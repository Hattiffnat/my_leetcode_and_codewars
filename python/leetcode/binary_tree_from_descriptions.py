# Definition for a binary tree node.
class TreeNode:
    def __init__(self, value=0, left=None, right=None):
        self.val = value
        self.left = left
        self.right = right


class Tree:
    def __init__(self, d):
        self.root = None
        self.build(d)

    def search(self, node, value):
        if node.val == value:
            return node

        res = None
        if node.left is not None:
            res = self.search(node.left, value)
        if res is None and node.right is not None:
            res = self.search(node.right, value)

        return res

    def build(self, descriptions):
        d = descriptions.copy()
        parent_val, child_val, is_left = d.pop()

        if is_left:
            root = TreeNode(parent_val, left=TreeNode(child_val))
        else:
            root = TreeNode(parent_val, right=TreeNode(child_val))

        flag = True
        while flag:
            flag = False
            for i, desc in enumerate(d):
                if desc is not None:
                    flag = True
                    parent_val, child_val, is_left = desc
                    if root.val == child_val:
                        if is_left:
                            root = TreeNode(parent_val, left=root)
                        else:
                            root = TreeNode(parent_val, right=root)
                        d[i] = None
                    else:
                        parent = self.search(root, parent_val)
                        if parent is not None:
                            if is_left:
                                parent.left = TreeNode(child_val)
                            else:
                                parent.right = TreeNode(child_val)
                            d[i] = None

        self.root = root


class Solution:
    @staticmethod
    def createBinaryTree(descriptions):
        tree = Tree(descriptions)
        return tree.root


if __name__ == "__main__":
    sol = Solution()
    print(
        sol.createBinaryTree(
            [
                [4163, 2239, 1],
                [8147, 6017, 1],
                [1459, 9795, 1],
                [3352, 2696, 1],
                [984, 1706, 1],
                [8423, 8018, 1],
                [7944, 3615, 1],
                [6365, 2018, 1],
                [4676, 9879, 1],
                [2844, 5087, 1],
                [3144, 2196, 1],
                [5010, 6637, 1],
                [6939, 5592, 1],
                [7995, 6486, 1],
                [880, 6868, 1],
                [8961, 5038, 1],
                [7478, 2425, 1],
                [3023, 6611, 1],
                [7160, 3955, 1],
                [8703, 287, 1],
                [5631, 7556, 1],
                [2356, 8402, 1],
                [8083, 9920, 1],
                [2466, 5629, 1],
                [5044, 7440, 1],
                [8531, 2145, 1],
                [5888, 6369, 1],
                [4967, 9701, 1],
                [6637, 6827, 1],
                [2926, 5992, 1],
                [8926, 8954, 1],
                [3990, 6365, 1],
                [4279, 4086, 1],
                [5592, 2816, 1],
                [5992, 7220, 1],
                [1034, 958, 1],
                [8539, 669, 1],
                [6902, 7120, 1],
                [6156, 7291, 1],
                [9189, 133, 1],
                [9135, 2521, 1],
                [7291, 7160, 1],
                [287, 3843, 1],
                [2419, 1163, 1],
                [793, 705, 1],
                [6341, 9803, 1],
                [9118, 5535, 1],
                [1701, 8147, 1],
                [6404, 5702, 1],
                [9629, 675, 1],
                [2104, 1925, 1],
                [385, 6564, 1],
                [5314, 4052, 1],
                [9356, 2628, 1],
                [5335, 4279, 1],
                [9631, 4894, 1],
                [2172, 6240, 1],
                [6884, 25, 1],
                [8874, 6251, 1],
                [9957, 487, 1],
                [4946, 1769, 1],
                [3057, 3737, 1],
                [5219, 8457, 1],
                [4086, 8803, 1],
                [8511, 5347, 1],
                [6264, 4765, 1],
                [918, 1261, 1],
                [1878, 4581, 1],
                [4024, 7354, 1],
                [5878, 2847, 1],
                [6978, 1969, 1],
                [487, 4243, 1],
                [8789, 9928, 1],
                [4692, 1540, 1],
                [8203, 793, 1],
                [1367, 402, 1],
                [7220, 9103, 1],
                [8121, 5876, 1],
                [1538, 1897, 1],
                [110, 1374, 1],
                [615, 4455, 1],
                [6216, 3647, 1],
                [9489, 7296, 1],
                [881, 4618, 1],
                [2919, 9233, 1],
                [4268, 3023, 1],
                [6145, 6114, 1],
                [4810, 5004, 1],
                [1362, 9594, 1],
                [7973, 8343, 1],
                [8299, 15, 1],
                [5688, 6163, 1],
                [7440, 8665, 1],
                [7821, 2520, 1],
                [4469, 918, 1],
                [6502, 7545, 1],
                [9261, 885, 1],
                [5222, 278, 1],
                [7716, 3197, 1],
                [3451, 385, 1],
                [2899, 3673, 1],
                [3, 7641, 1],
                [9795, 7973, 1],
                [3615, 8518, 1],
                [783, 7201, 1],
                [9572, 5483, 1],
                [5876, 8551, 1],
                [2241, 6934, 1],
                [2740, 1066, 1],
                [3815, 4024, 1],
                [2917, 6674, 1],
                [7884, 141, 1],
                [9286, 2187, 1],
                [6564, 2844, 1],
                [358, 6333, 1],
                [2909, 3057, 1],
                [9206, 136, 1],
                [8777, 6147, 1],
                [8972, 5222, 1],
                [6776, 2808, 1],
                [4392, 1008, 1],
                [2018, 8353, 1],
                [1511, 7086, 1],
                [9757, 226, 1],
                [4052, 4508, 1],
                [2816, 1964, 1],
                [9621, 1250, 1],
                [2062, 6907, 1],
                [4455, 4044, 1],
                [2152, 7233, 1],
                [105, 8075, 1],
                [2611, 9090, 1],
                [4623, 8285, 1],
                [778, 2461, 1],
                [8213, 9135, 1],
                [1969, 7821, 1],
                [2736, 9935, 1],
                [205, 4201, 1],
                [4581, 4268, 1],
                [5931, 7432, 1],
                [1332, 6939, 1],
                [6031, 4615, 1],
                [7556, 6404, 1],
                [3710, 2749, 1],
                [8068, 7633, 1],
                [7119, 3710, 1],
                [806, 2356, 1],
                [8803, 1701, 1],
                [3178, 8182, 1],
                [8018, 2241, 1],
                [3330, 2611, 1],
                [4508, 3544, 1],
                [5637, 7119, 1],
                [7641, 2890, 1],
                [2315, 2899, 1],
                [4748, 4015, 1],
                [6285, 6216, 1],
                [5853, 1081, 1],
                [7354, 9095, 1],
                [8575, 4692, 1],
                [2809, 6650, 1],
                [4785, 938, 1],
                [1873, 2062, 1],
                [8447, 3897, 1],
                [3940, 248, 1],
                [6713, 9051, 1],
                [1374, 7303, 1],
                [7233, 6145, 1],
                [2520, 1305, 1],
                [8643, 8068, 1],
                [2678, 8575, 1],
                [9090, 921, 1],
                [5339, 9572, 1],
                [7432, 2480, 1],
                [9939, 3400, 1],
                [8194, 8926, 1],
                [6426, 4275, 1],
                [7649, 9980, 1],
                [1069, 8387, 1],
                [8182, 2093, 1],
                [9938, 8735, 1],
                [7178, 4469, 1],
                [5257, 9248, 1],
                [9879, 707, 1],
                [894, 8423, 1],
                [3856, 2104, 1],
                [7086, 7372, 1],
                [9753, 9931, 1],
                [8343, 5199, 1],
                [2687, 1168, 1],
                [402, 4485, 1],
                [1669, 4413, 1],
                [3703, 8327, 1],
                [8387, 1895, 1],
                [863, 2627, 1],
                [9928, 7128, 1],
                [4485, 7817, 1],
                [2627, 358, 1],
                [440, 1671, 1],
                [7303, 8874, 1],
                [7517, 1797, 1],
                [2199, 7478, 1],
                [4718, 533, 1],
                [9328, 6903, 1],
                [885, 4499, 1],
                [1343, 9317, 1],
                [1816, 2715, 1],
                [2025, 3835, 1],
                [9980, 9146, 1],
                [9358, 8884, 1],
                [1765, 8643, 1],
                [705, 9328, 1],
                [4747, 6764, 1],
                [8327, 7018, 1],
                [5493, 4348, 1],
                [6108, 105, 1],
                [9051, 447, 1],
                [7945, 2270, 1],
                [1678, 3663, 1],
                [3114, 4829, 1],
                [2187, 8234, 1],
                [7116, 6776, 1],
                [7201, 4577, 1],
                [3835, 8789, 1],
                [1270, 7463, 1],
                [3390, 1599, 1],
                [2480, 1886, 1],
                [981, 6243, 1],
                [8879, 9957, 1],
                [7390, 2419, 1],
                [9740, 8961, 1],
                [1617, 5809, 1],
                [5343, 4810, 1],
                [8665, 5625, 1],
                [2715, 3990, 1],
                [1934, 251, 1],
                [6176, 995, 1],
                [248, 7228, 1],
                [5550, 4163, 1],
                [6812, 1414, 1],
                [22, 4748, 1],
                [7327, 5743, 1],
                [675, 3, 1],
                [4464, 892, 1],
                [921, 6436, 1],
                [4228, 9419, 1],
                [4243, 4623, 1],
                [4981, 615, 1],
                [6436, 9206, 1],
                [9526, 5135, 1],
                [6345, 6156, 1],
                [9239, 1538, 1],
                [4829, 1332, 1],
                [995, 8194, 1],
                [3663, 5738, 1],
                [6390, 8712, 1],
                [6611, 3360, 1],
                [3552, 32, 1],
                [896, 4718, 1],
                [4950, 5416, 1],
                [6492, 5631, 1],
                [9405, 7623, 1],
                [5702, 9938, 1],
                [7372, 1938, 1],
                [5425, 8083, 1],
                [2093, 8972, 1],
                [6163, 643, 1],
                [1008, 1617, 1],
                [707, 7230, 1],
                [2869, 3183, 1],
                [4044, 9405, 1],
                [5836, 6031, 1],
                [7230, 7897, 1],
                [7128, 724, 1],
                [6114, 8720, 1],
                [3183, 1669, 1],
                [251, 894, 1],
                [9931, 9118, 1],
                [4423, 783, 1],
                [6934, 2891, 1],
                [1938, 3178, 1],
                [3252, 1033, 1],
                [9390, 5441, 1],
                [330, 9629, 1],
                [3843, 9239, 1],
                [853, 9390, 1],
                [1925, 1078, 1],
                [997, 1343, 1],
                [6755, 5878, 1],
                [1608, 7517, 1],
                [5087, 5853, 1],
                [2081, 8539, 1],
                [1399, 142, 1],
                [25, 6176, 1],
                [3569, 8121, 1],
                [1671, 3451, 1],
                [2461, 4603, 1],
                [9095, 2081, 1],
                [3681, 149, 1],
                [571, 2334, 1],
                [6903, 4558, 1],
                [7625, 6902, 1],
                [502, 3018, 1],
                [5347, 3703, 1],
                [6609, 4967, 1],
                [3005, 8511, 1],
                [15, 8210, 1],
                [9428, 5219, 1],
                [1216, 1816, 1],
                [2628, 9757, 1],
                [2239, 1127, 1],
                [8547, 9952, 1],
                [149, 9132, 1],
                [9205, 2466, 1],
                [5069, 1459, 1],
                [4696, 6755, 1],
                [4015, 2025, 1],
                [3197, 5061, 1],
                [1163, 3915, 1],
                [9920, 7075, 1],
                [6251, 5888, 1],
                [9233, 3815, 1],
                [6533, 7625, 1],
                [2847, 5380, 1],
                [9870, 6341, 1],
                [7228, 881, 1],
                [8712, 3144, 1],
                [3400, 2869, 1],
                [2397, 6264, 1],
                [4275, 6812, 1],
                [1078, 7676, 1],
                [8720, 9848, 1],
                [9103, 9364, 1],
                [4894, 699, 1],
                [5004, 5339, 1],
                [7817, 7945, 1],
                [1895, 5029, 1],
                [8735, 2417, 1],
                [4317, 1674, 1],
                [9419, 8203, 1],
                [9709, 2971, 1],
                [8074, 5134, 1],
                [5809, 4228, 1],
                [5192, 5425, 1],
                [3166, 5688, 1],
                [3832, 5044, 1],
                [669, 4605, 1],
                [8551, 2909, 1],
                [2890, 853, 1],
                [1599, 4484, 1],
                [643, 2687, 1],
                [5441, 9939, 1],
                [6987, 3868, 1],
                [1674, 7126, 1],
                [7355, 7995, 1],
                [1886, 8299, 1],
                [7120, 4464, 1],
                [5135, 6872, 1],
                [8695, 1310, 1],
                [4605, 8322, 1],
                [4765, 4950, 1],
                [9490, 4252, 1],
                [7296, 8695, 1],
                [6907, 8262, 1],
                [5134, 6533, 1],
                [9935, 9259, 1],
                [4864, 1069, 1],
                [9803, 5335, 1],
                [724, 502, 1],
                [6486, 7728, 1],
                [6243, 3948, 1],
                [8872, 2917, 1],
                [9317, 330, 1],
                [5460, 224, 1],
                [3012, 6713, 1],
                [5415, 4317, 1],
                [6496, 2199, 1],
                [5061, 9631, 1],
                [4618, 2172, 1],
                [4413, 1878, 1],
                [3018, 1418, 1],
                [9285, 4376, 1],
                [8722, 4785, 1],
                [7737, 3856, 1],
                [1414, 6108, 1],
                [4484, 6768, 1],
                [8627, 4272, 1],
                [7464, 1608, 1],
                [8322, 5415, 1],
                [6827, 1666, 1],
                [8894, 3940, 1],
                [3915, 3466, 1],
                [3466, 2397, 1],
                [3868, 9189, 1],
                [1314, 9356, 1],
                [2334, 3133, 1],
                [1310, 7116, 1],
                [7018, 5931, 1],
                [9952, 9489, 1],
                [7430, 1314, 1],
                [9482, 8872, 1],
                [5380, 440, 1],
                [1706, 8547, 1],
                [1609, 6502, 1],
                [5483, 9285, 1],
                [6240, 4747, 1],
                [3737, 1985, 1],
                [8075, 8213, 1],
                [4069, 5069, 1],
                [141, 3390, 1],
                [5256, 1270, 1],
                [2734, 3552, 1],
                [1168, 3031, 1],
                [1351, 7430, 1],
                [7126, 7716, 1],
                [278, 3589, 1],
                [1797, 6285, 1],
                [2196, 6884, 1],
                [4615, 6426, 1],
                [2342, 9526, 1],
                [7897, 2452, 1],
                [2891, 2736, 1],
                [136, 5550, 1],
                [2417, 9740, 1],
                [1250, 7178, 1],
                [3544, 1629, 1],
                [5416, 9679, 1],
                [6369, 863, 1],
                [8069, 1351, 1],
                [6762, 5257, 1],
                [4376, 1367, 1],
                [6355, 5314, 1],
                [8134, 9428, 1],
                [2452, 5330, 1],
                [3897, 1034, 1],
                [9320, 4069, 1],
                [8262, 4864, 1],
                [963, 9621, 1],
                [3948, 5010, 1],
                [5009, 7450, 1],
                [6147, 9464, 1],
                [1964, 9934, 1],
                [9611, 9358, 1],
                [142, 6987, 1],
                [3299, 8627, 1],
                [8353, 164, 1],
                [4252, 9870, 1],
                [6333, 896, 1],
                [7728, 963, 1],
                [133, 984, 1],
                [766, 3352, 1],
                [3589, 8610, 1],
                [9259, 5192, 1],
                [4348, 5343, 1],
                [2598, 6390, 1],
                [6644, 7464, 1],
                [7463, 4212, 1],
                [4212, 9534, 1],
                [164, 4946, 1],
                [7450, 571, 1],
                [7075, 1216, 1],
                [1418, 5637, 1],
                [9132, 9490, 1],
                [2971, 9611, 1],
                [6253, 4696, 1],
                [4603, 5836, 1],
                [1081, 9012, 1],
                [8610, 2315, 1],
                [1261, 1645, 1],
                [8884, 9286, 1],
                [3360, 6440, 1],
                [1985, 4550, 1],
                [7633, 8722, 1],
                [9934, 9858, 1],
                [7623, 6496, 1],
                [7676, 981, 1],
                [8518, 205, 1],
                [3031, 4981, 1],
                [6437, 2734, 1],
                [2425, 6762, 1],
                [4439, 9023, 1],
                [1033, 6991, 1],
                [2808, 5256, 1],
                [9012, 9482, 1],
                [9858, 3832, 1],
                [5535, 2152, 1],
                [1066, 7649, 1],
                [3833, 8531, 1],
                [32, 2926, 1],
                [7179, 9205, 1],
                [9146, 7103, 1],
                [958, 8777, 1],
                [4577, 6253, 1],
                [533, 6644, 1],
                [9464, 3140, 1],
                [6868, 5971, 1],
                [6017, 1934, 1],
                [7545, 7355, 1],
                [8457, 2809, 1],
                [5038, 880, 1],
                [892, 8703, 1],
                [2270, 1362, 1],
                [9848, 9709, 1],
                [3133, 7944, 1],
                [3853, 1873, 1],
                [9534, 3299, 1],
                [1645, 2598, 1],
                [1629, 3252, 1],
                [5029, 5872, 1],
                [8402, 6492, 1],
                [5330, 1678, 1],
                [5743, 778, 1],
                [5738, 4392, 1],
                [4558, 3114, 1],
                [2001, 6355, 1],
                [2749, 8134, 1],
                [4272, 5460, 1],
                [1540, 3012, 1],
                [9023, 7737, 1],
                [2233, 1765, 1],
                [699, 6609, 1],
                [5625, 806, 1],
                [2145, 9753, 1],
                [6872, 9261, 1],
                [3673, 8894, 1],
                [3955, 6437, 1],
                [4499, 6345, 1],
                [6764, 7179, 1],
                [1897, 110, 1],
                [6650, 2919, 1],
                [8210, 1511, 1],
                [6674, 7884, 1],
                [2696, 4423, 1],
                [9679, 3330, 1],
                [1769, 997, 1],
                [1127, 3569, 1],
                [8234, 1399, 1],
                [3647, 6978, 1],
                [6991, 5493, 1],
                [447, 2342, 1],
                [9701, 3853, 1],
                [8285, 766, 1],
                [3140, 2678, 1],
                [4201, 8879, 1],
                [9248, 8069, 1],
                [938, 9291, 1],
                [1305, 3681, 1],
                [9594, 1609, 1],
                [5872, 3005, 1],
                [6768, 8074, 1],
                [5971, 5009, 1],
                [4550, 4676, 1],
                [9364, 3166, 1],
                [6440, 8447, 1],
                [5629, 2740, 1],
                [7103, 2001, 1],
                [5199, 7390, 1],
                [9291, 4439, 1],
                [2521, 22, 1],
                [8954, 9320, 1],
                [226, 3833, 1],
                [1666, 7327, 1],
            ]
        )
    )
